<!DOCTYPE HTML>
<html lang="en">
<head>

    <script src="https://alwingulla.com/88/tag.min.js" data-zone="109083" async data-cfasync="false"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-V07XN2PE74"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-V07XN2PE74');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4259330608514765"
    crossorigin="anonymous"></script>

    <title>InfintiumGames</title>
    <link rel="stylesheet" type="text/css" href="assets/css/global.css">
    <link rel="stylesheet" type="text/css" href="assets/css/index.css">
    <link rel="manifest" href="/manifest.json">
    <script src="assets/js/lib/glitch.js"></script>
</head>
<body>
    <iframe src="assets/navbar.html" frameborder="0" scrolling="no" width="100%" height="100px"></iframe>
    <h1>InfintiumGames</h1>
    <div class="container">
        <p>Shhhh....</p>
    </div>

    
    <img src="https://raw.githubusercontent.com/tf7software/Infintium/896f9a56d1e4c86ed46d02f6c45b2cb71a0945a2/public/favicon.png" alt="InfintiumGames Logo" width="100px" height="auto" id="infinitylogo"/>
    <br>
    <button id="embed-button" style="width: 300px; height: 50px;">Open in about:blank</button>
    <br><br>
    <!-- Start of CuterCounter Code -->
    <a href="https://www.cutercounter.com/" target="_blank"><img src="https://www.cutercounter.com/hits.php?id=hmxqxpxk&nd=6&style=31" border="0" alt="visitor counter"></a>
    <br>
    <p>Page views</p>
    <!-- End of CuterCounter Code -->
    <br>

    <p id="game-count">There are currently ... games on InfintiumGames.</p>
    
    <p style="line-height: 200%; letter-spacing: 200%;"><b>Welcome to InfintiumGames!</b><br>
        There are many alternate links, in case a link gets blocked.<br> InfinityLoop (https://github.com/InfinityLoop1) is the orginal creator, and I am building upon InfinityGamer.
    </p>

    <p id="version"></p>

    <!-- JSON Data Section for ID -->
    <script id="user-data" type="application/json">
    {
        "ID": "INFINTIUM12345",   <!-- Change this ID to test -->
        "type": "student",
        "ID": "teacher"
        "type": "teacher"<!-- Possible values: "student", "teacher" -->
    }
    </script>

    <script src="assets/js/index.js"></script>
    <script src="assets/js/global.js"></script>
    <script src="assets/js/games/gameNames.js"></script>

    <script>
        // Function to handle redirection based on user ID type
        function handleUserID() {
            const userData = JSON.parse(document.getElementById('user-data').textContent);
            const userID = userData.ID;
            const userType = userData.type;

            if (userID.startsWith('INFINTIUM')) {
                if (userType === 'student') {
                    window.location.href = '/games.html'; // Redirect to games section
                } else if (userType === 'teacher') {
                    document.body.innerHTML = "<h1>404 not found - Page does not exist 'games.html' Message from owner: 'Hey guys, I took the site down bc I don't want to get in trouble, thx for understanding'</h1>"; // Show 404 for teacher
                }
            } else {
                alert('Invalid ID');
            }
        }

        // Call the function when the page loads
        window.onload = handleUserID;

        // Register service worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/assets/js/service-worker.js?v=2')
                    .then(registration => {
                        console.log('Service Worker registered with scope:', registration.scope);
                    })
                    .catch(error => {
                        console.error('Service Worker registration failed:', error);
                    });
            });
        }
    </script>
</body>
</html>
